#!/bin/bash

#read -p "Do you want to install (i) or upgrade (u): " choice

##Lunarvim

sudo pacman --noconfirm -S git neovim rust python-pynvim 
LV_BRANCH='release-1.3/neovim-0.9' bash <(curl -s https://raw.githubusercontent.com/LunarVim/LunarVim/release-1.3/neovim-0.9/utils/installer/install.sh)

##config files
git clone https://github.com/NULL-BITS/mydots.git
sudo cp -r mydots/* ~/.config/

##install Tools
git clone https://github.com/NULL-BITS/PentestArch.git
cd PentestArch

sudo pacman --noconfirm -S zsh
sudo cp .zshrc ~/
sudo cp 
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
git clone https://github.com/zdharma-continuum/fast-syntax-highlighting.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/plugins/fast-syntax-highlighting



sudo pacman --noconfirm -S - < list.txt



##Parrot Theme

theme_file=parrot.zsh-theme
oh_my_zsh_themes_folder=${HOME}/.oh-my-zsh/themes

if [ ! -d $oh_my_zsh_themes_folder ]; then
    echo "ERROR: $oh_my_zsh_themes_folder not found."
    exit 1
fi

cp $theme_file $oh_my_zsh_themes_folder

if [ -f $oh_my_zsh_themes_folder/$theme_file ]; then
    echo "Installed theme"
else
    echo "ERROR: Couldn't copy to $oh_my_zsh_themes_folder"
    exit 1
fi

sed -i -e 's/ZSH_THEME=".*"/ZSH_THEME="'$theme_name'"/' ${HOME}/.zshrc

if grep -Fxq 'ZSH_THEME="'$theme_name'"' ${HOME}/.zshrc ; then
    echo "Theme set on .zshrc"
    source "${HOME}/.zshrc"
else
    echo "ERROR: Theme not set on .zshrc"
    exit 1
fi
